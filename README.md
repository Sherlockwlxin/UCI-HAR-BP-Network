# UCI HAR äººä½“è¡Œä¸ºè¯†åˆ« - åŸºäºæ‰‹å·¥å®ç°çš„BPç¥ç»ç½‘ç»œ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.7+](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/)
[![NumPy](https://img.shields.io/badge/numpy-1.19+-orange.svg)](https://numpy.org/)

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®å®Œå…¨åŸºäºNumPyæ‰‹å·¥å®ç°BPç¥ç»ç½‘ç»œï¼Œåœ¨UCI Human Activity Recognitionæ•°æ®é›†ä¸Šå®Œæˆäººä½“è¡Œä¸ºè¯†åˆ«ä»»åŠ¡ã€‚**ä¸ä½¿ç”¨ä»»ä½•æ·±åº¦å­¦ä¹ æ¡†æ¶**ï¼ˆå¦‚TensorFlowã€PyTorchï¼‰ï¼Œä»é›¶å®ç°å‰å‘ä¼ æ’­ã€åå‘ä¼ æ’­ã€åŠ¨é‡ä¼˜åŒ–ç­‰æ ¸å¿ƒç®—æ³•ã€‚

**å®éªŒæˆæœï¼š**
- âœ… æµ‹è¯•å‡†ç¡®ç‡è¾¾94%ä»¥ä¸Š
- âœ… å¯¹æ¯”äº†æ ‡å‡†BPå’ŒMomentum BPä¸¤ç§æ–¹æ³•
- âœ… å®Œæ•´çš„æ•°æ®é¢„å¤„ç†å’Œå¯è§†åŒ–åˆ†æ
- âœ… è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Šå’Œå®éªŒæŠ¥å‘Š

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **å®Œå…¨æ‰‹æ“**ï¼š100% NumPyå®ç°ï¼Œä½“ç°å¯¹ç®—æ³•åŸç†çš„æ·±å…¥ç†è§£
- **ä»£ç æ¸…æ™°**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œè¯¦ç»†æ³¨é‡Šï¼Œæ˜“äºå­¦ä¹ 
- **å®éªŒå®Œæ•´**ï¼šä»æ•°æ®åŠ è½½åˆ°ç»“æœåˆ†æçš„å®Œæ•´æµç¨‹
- **æ€§èƒ½ä¼˜å¼‚**ï¼š561ç»´é«˜ç»´ç‰¹å¾ä¸‹ä»ä¿æŒè‰¯å¥½æ³›åŒ–èƒ½åŠ›

## ğŸ“Š å®éªŒç»“æœ

| æ–¹æ³• | æµ‹è¯•å‡†ç¡®ç‡ | æ”¶æ•›é€Ÿåº¦ | è®­ç»ƒæ—¶é—´ |
|------|-----------|---------|---------|
| æ ‡å‡†BP | 94.77% | 1 epoch | 53.85s |
| Momentum BP | 94.16% | 0 epoch | 51.17s |

**ä¸»è¦å‘ç°ï¼š**
- Momentum BPæ”¶æ•›é€Ÿåº¦æå‡100%
- Sittingå’ŒStandingæ˜¯æœ€å®¹æ˜“æ··æ·†çš„ç±»åˆ«ï¼ˆæ··æ·†ç‡10.39%ï¼‰
- åŠ¨æ€æ´»åŠ¨ï¼ˆWalkingç³»åˆ—ï¼‰è¯†åˆ«å‡†ç¡®ç‡>90%

## ğŸ“ é¡¹ç›®ç»“æ„

```
UCI-HAR-BP-Network/
â”œâ”€â”€ bp_neural_network.py      # BPç¥ç»ç½‘ç»œæ ¸å¿ƒå®ç°
â”œâ”€â”€ data_preprocessing.py      # æ•°æ®é¢„å¤„ç†æ¨¡å—
â”œâ”€â”€ visualization.py           # å¯è§†åŒ–åˆ†æ
â”œâ”€â”€ main.py                    # ä¸»ç¨‹åº
â”œâ”€â”€ test_environment.py        # ç¯å¢ƒéªŒè¯è„šæœ¬
â”œâ”€â”€ requirements.txt           # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ .gitignore                 # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ LICENSE                    # MITå¼€æºåè®®
â”œâ”€â”€ README.md                  # æœ¬æ–‡æ¡£
â””â”€â”€ results/                   # å®éªŒç»“æœ
    â”œâ”€â”€ training_comparison.png
    â”œâ”€â”€ confusion_matrix_momentum.png
    â”œâ”€â”€ confusion_matrix_standard.png
    â”œâ”€â”€ loss_curve_momentum.png
    â””â”€â”€ accuracy_curve_momentum.png
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

```bash
Python 3.7+
numpy >= 1.19.0
matplotlib >= 3.3.0
seaborn >= 0.11.0
scikit-learn >= 0.24.0
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. ä¸‹è½½æ•°æ®é›†

è®¿é—® [UCI HAR Dataset](https://archive.ics.uci.edu/dataset/240/human+activity+recognition+using+smartphones)ï¼Œä¸‹è½½å¹¶è§£å‹åˆ°é¡¹ç›®ç›®å½•ï¼Œç¡®ä¿æ–‡ä»¶å¤¹åä¸º `UCI HAR Dataset`ï¼ˆæ³¨æ„æœ‰ç©ºæ ¼ï¼‰ã€‚

### 4. éªŒè¯ç¯å¢ƒ

```bash
python test_environment.py
```

å¦‚æœçœ‹åˆ°æ‰€æœ‰ âœ“ æ ‡è®°ï¼Œè¯´æ˜ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚

### 5. è¿è¡Œå®éªŒ

```bash
python main.py
```

å®éªŒç»“æœä¼šè‡ªåŠ¨ä¿å­˜åˆ° `results/` ç›®å½•ï¼Œå¤§çº¦éœ€è¦5-10åˆ†é’Ÿã€‚

## ğŸ“– æ ¸å¿ƒç®—æ³•

### ç½‘ç»œç»“æ„

```
è¾“å…¥å±‚ (561) â†’ éšè—å±‚ (64, ReLU) â†’ è¾“å‡ºå±‚ (6, Softmax)
```

### å‰å‘ä¼ æ’­

```python
# éšè—å±‚
z1 = X @ W1 + b1
a1 = ReLU(z1)

# è¾“å‡ºå±‚
z2 = a1 @ W2 + b2
output = Softmax(z2)
```

### åå‘ä¼ æ’­

```python
# è¾“å‡ºå±‚è¯¯å·®ï¼ˆäº¤å‰ç†µ+Softmaxçš„ä¼˜ç¾æ€§è´¨ï¼‰
delta_output = output - y_true

# éšè—å±‚è¯¯å·®ï¼ˆé“¾å¼æ³•åˆ™ï¼‰
delta_hidden = (delta_output @ W2.T) * ReLU'(z1)

# æ¢¯åº¦è®¡ç®—
dW2 = a1.T @ delta_output / m
dW1 = X.T @ delta_hidden / m
```

### åŠ¨é‡ä¼˜åŒ–

```python
# æ ‡å‡†BP
W = W - Î· * âˆ‡J(W)

# Momentum BP
v = Î± * v - Î· * âˆ‡J(W)
W = W + v
```

## ğŸ“ˆ å¯è§†åŒ–ç»“æœ

### è®­ç»ƒå†å²å¯¹æ¯”
![è®­ç»ƒå¯¹æ¯”](results/training_comparison.png)

*å›¾ï¼šæ ‡å‡†BP vs Momentum BPçš„è®­ç»ƒæŸå¤±ã€éªŒè¯æŸå¤±ã€è®­ç»ƒå‡†ç¡®ç‡ã€éªŒè¯å‡†ç¡®ç‡å¯¹æ¯”*

### æ··æ·†çŸ©é˜µï¼ˆMomentum BPï¼‰
![æ··æ·†çŸ©é˜µMomentum](results/confusion_matrix_momentum.png)

*å›¾ï¼šMomentum BPæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æ··æ·†çŸ©é˜µï¼Œæ€»ä½“å‡†ç¡®ç‡94.16%*

### æ··æ·†çŸ©é˜µï¼ˆæ ‡å‡†BPï¼‰
![æ··æ·†çŸ©é˜µæ ‡å‡†](results/confusion_matrix_standard.png)

*å›¾ï¼šæ ‡å‡†BPæ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„æ··æ·†çŸ©é˜µï¼Œæ€»ä½“å‡†ç¡®ç‡94.77%*

## ğŸ” å…³é”®å‘ç°

### 1. Sitting vs Standing æ··æ·†åˆ†æ

è¿™ä¸¤ä¸ªç±»åˆ«æœ€å®¹æ˜“æ··æ·†ï¼ˆæ··æ·†ç‡10.39%ï¼‰ï¼ŒåŸå› ï¼š
- **é™æ­¢çŠ¶æ€ç›¸ä¼¼**ï¼šéƒ½æ˜¯é™æ­¢çš„ï¼ŒåŠ é€Ÿåº¦å˜åŒ–æå°
- **é‡åŠ›æ–¹å‘æ¥è¿‘**ï¼šä¼ æ„Ÿå™¨ä¸»è¦æ„ŸçŸ¥é‡åŠ›åˆ†é‡ï¼Œä¸¤è€…å·®å¼‚å¾®å°
- **å§¿æ€å·®å¼‚ç»†å¾®**ï¼šåªæœ‰èº«ä½“å§¿æ€çš„ç»†å¾®å·®å¼‚ï¼Œä¼ æ„Ÿå™¨éš¾ä»¥æ•æ‰

### 2. åŠ¨é‡æ³•çš„æ”¹è¿›æ•ˆæœ

**ä¼˜åŠ¿ï¼š**
- âœ… æ”¶æ•›é€Ÿåº¦æå‡100%ï¼ˆ0 epoch vs 1 epochè¾¾åˆ°loss<0.5ï¼‰
- âœ… è®­ç»ƒæ›²çº¿æ›´å¹³æ»‘ï¼Œéœ‡è¡æ›´å°
- âœ… è®­ç»ƒæ—¶é—´ç¼©çŸ­çº¦5%

**æƒè¡¡ï¼š**
- âš ï¸ æœ€ç»ˆæµ‹è¯•å‡†ç¡®ç‡ç•¥ä½0.61%ï¼ˆ94.16% vs 94.77%ï¼‰
- âš ï¸ å¯èƒ½éœ€è¦æ›´ç²¾ç»†çš„å­¦ä¹ ç‡è°ƒä¼˜

**ç»“è®ºï¼š** åŠ¨é‡æ³•é€‚åˆéœ€è¦å¿«é€Ÿæ”¶æ•›çš„åœºæ™¯ï¼Œä½†å¯¹æœ€ç»ˆç²¾åº¦è¦æ±‚æé«˜æ—¶éœ€è¦ä»”ç»†è°ƒå‚ã€‚

### 3. é«˜ç»´ç‰¹å¾å¤„ç†ç»éªŒ

- **Z-Scoreæ ‡å‡†åŒ–è‡³å…³é‡è¦**ï¼š561ç»´ç‰¹å¾å¿…é¡»æ ‡å‡†åŒ–ï¼Œå¦åˆ™æ¨¡å‹æ— æ³•æ”¶æ•›
- **Heåˆå§‹åŒ–æœ‰æ•ˆ**ï¼šé…åˆReLUæ¿€æ´»å‡½æ•°ï¼Œé¿å…æ¢¯åº¦æ¶ˆå¤±
- **æ¢¯åº¦è£å‰ªå¿…è¦**ï¼šé˜²æ­¢æ¢¯åº¦çˆ†ç‚¸ï¼Œæé«˜è®­ç»ƒç¨³å®šæ€§

## ğŸ’¡ ä»£ç äº®ç‚¹

### 1. æ•°å€¼ç¨³å®šçš„Softmax

```python
def softmax(self, z):
    """Softmaxå‡½æ•°ï¼ˆæ•°å€¼ç¨³å®šç‰ˆï¼‰"""
    z_shifted = z - np.max(z, axis=1, keepdims=True)  # é˜²æ­¢expæº¢å‡º
    exp_z = np.exp(z_shifted)
    return exp_z / np.sum(exp_z, axis=1, keepdims=True)
```

### 2. æ¢¯åº¦è£å‰ª

```python
# é˜²æ­¢æ¢¯åº¦çˆ†ç‚¸
max_grad_norm = 5.0
dW1 = np.clip(dW1, -max_grad_norm, max_grad_norm)
dW2 = np.clip(dW2, -max_grad_norm, max_grad_norm)
```

### 3. å®Œæ•´çš„æ•°æ®é¢„å¤„ç†

```python
# Z-Scoreæ ‡å‡†åŒ–
mean = np.mean(X_train, axis=0)
std = np.std(X_train, axis=0)
X_train_normalized = (X_train - mean) / std
X_test_normalized = (X_test - mean) / std  # ä½¿ç”¨è®­ç»ƒé›†ç»Ÿè®¡é‡
```

### 4. åŠ¨é‡æ³•å®ç°

```python
# åŠ¨é‡æ›´æ–°
self.v_W = self.momentum * self.v_W - self.learning_rate * dW
self.W += self.v_W
```

## ğŸ“š æŠ€æœ¯ç»†èŠ‚

### è¶…å‚æ•°é…ç½®

| è¶…å‚æ•° | æ ‡å‡†BP | Momentum BP |
|--------|--------|-------------|
| å­¦ä¹ ç‡ | 0.01 | 0.01 |
| åŠ¨é‡ç³»æ•° | 0.0 | 0.9 |
| éšè—å±‚èŠ‚ç‚¹ | 64 | 64 |
| æ‰¹å¤§å° | 32 | 32 |
| è®­ç»ƒè½®æ•° | 100 | 100 |

### æ•°æ®é›†ä¿¡æ¯

- **è®­ç»ƒé›†**ï¼š7,352 æ ·æœ¬
- **æµ‹è¯•é›†**ï¼š2,947 æ ·æœ¬
- **ç‰¹å¾ç»´åº¦**ï¼š561ï¼ˆæ—¶åŸŸ+é¢‘åŸŸç‰¹å¾ï¼‰
- **ç±»åˆ«æ•°é‡**ï¼š6ï¼ˆWalking, Walking Upstairs, Walking Downstairs, Sitting, Standing, Layingï¼‰

### æ€§èƒ½æŒ‡æ ‡

**Momentum BPå„ç±»åˆ«è¡¨ç°ï¼š**

| ç±»åˆ« | Precision | Recall | F1-Score |
|------|-----------|--------|----------|
| Walking | 0.9364 | 0.9798 | 0.9576 |
| Walking Upstairs | 0.9269 | 0.9427 | 0.9347 |
| Walking Downstairs | 0.9871 | 0.9119 | 0.9480 |
| Sitting | 0.9481 | 0.8921 | 0.9192 |
| Standing | 0.8714 | 0.9549 | 0.9112 |
| Laying | 1.0000 | 0.9609 | 0.9801 |

## ğŸ“ å­¦ä¹ ä»·å€¼

æœ¬é¡¹ç›®é€‚åˆï¼š
- **æœºå™¨å­¦ä¹ è¯¾ç¨‹ä½œä¸š** - å®Œæ•´çš„ç®—æ³•å®ç°å’Œå®éªŒåˆ†æ
- **æ·±åº¦ç†è§£BPç®—æ³•** - ä»æ•°å­¦å…¬å¼åˆ°ä»£ç å®ç°çš„å®Œæ•´æ¨å¯¼
- **NumPyç§‘å­¦è®¡ç®—å®è·µ** - çŸ©é˜µè¿ç®—ã€å‘é‡åŒ–ç¼–ç¨‹æŠ€å·§
- **ç¥ç»ç½‘ç»œå·¥ç¨‹ç»éªŒ** - æ•°æ®é¢„å¤„ç†ã€å‚æ•°åˆå§‹åŒ–ã€æ¢¯åº¦è£å‰ªç­‰å®ç”¨æŠ€æœ¯

## ğŸ› ï¸ å¯èƒ½çš„æ”¹è¿›æ–¹å‘

### ç®—æ³•å±‚é¢
1. **æ›´å…ˆè¿›çš„ä¼˜åŒ–å™¨**ï¼šå®ç°Adamã€RMSprop
2. **æ­£åˆ™åŒ–æŠ€æœ¯**ï¼šæ·»åŠ L2æ­£åˆ™åŒ–ã€Dropout
3. **ç½‘ç»œç»“æ„**ï¼šå°è¯•å¤šéšè—å±‚ã€ä¸åŒæ¿€æ´»å‡½æ•°

### ç‰¹å¾å±‚é¢
4. **ç‰¹å¾é€‰æ‹©**ï¼šé€šè¿‡PCAæˆ–å…¶ä»–æ–¹æ³•é™ç»´
5. **ç‰¹å¾å·¥ç¨‹**ï¼šé’ˆå¯¹Sitting/Standingè®¾è®¡åŒºåˆ†æ€§ç‰¹å¾

### å®éªŒå±‚é¢
6. **è¶…å‚æ•°æœç´¢**ï¼šç½‘æ ¼æœç´¢æˆ–è´å¶æ–¯ä¼˜åŒ–
7. **äº¤å‰éªŒè¯**ï¼šKæŠ˜äº¤å‰éªŒè¯è¯„ä¼°æ¨¡å‹ç¨³å®šæ€§
8. **é›†æˆå­¦ä¹ **ï¼šå¤šæ¨¡å‹æŠ•ç¥¨æˆ–å †å 

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æå‡ºIssueså’ŒPull Requestsï¼

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼š
- â­ ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹
- ğŸ”€ Forkåå°è¯•æ”¹è¿›
- ğŸ“ æå‡ºæ”¹è¿›å»ºè®®

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

è¿™æ„å‘³ç€ä½ å¯ä»¥ï¼š
- âœ… è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€åˆ†å‘ä»£ç 
- âœ… ç”¨äºå•†ä¸šé¡¹ç›®
- âœ… ç”¨äºå­¦ä¹ å’Œç ”ç©¶

åªéœ€è¦ï¼š
- ä¿ç•™åŸä½œè€…çš„ç‰ˆæƒå£°æ˜
- é™„å¸¦MIT Licenseæ–‡æœ¬

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub**: [@Sherlockwlxin](https://github.com/Sherlockwlxin)
- **é¡¹ç›®é“¾æ¥**: [UCI-HAR-BP-Network](https://github.com/Sherlockwlxin/UCI-HAR-BP-Network)

## ğŸ‘¤ ä½œè€…ä¿¡æ¯

- **å§“å**: ç‰Ÿèƒ½æ˜•
- **è¯¾ç¨‹**: æœºå™¨å­¦ä¹ 
- **æ—¶é—´**: 2026å¹´1æœˆ

## ğŸ™ è‡´è°¢

- æ„Ÿè°¢ [UCI Machine Learning Repository](https://archive.ics.uci.edu/) æä¾›é«˜è´¨é‡æ•°æ®é›†
- æ„Ÿè°¢å¼€æºç¤¾åŒºæä¾›çš„NumPyã€Matplotlibç­‰ä¼˜ç§€å·¥å…·
- æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®æä¾›å»ºè®®å’Œå¸®åŠ©çš„æœ‹å‹

---

â­ **å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼** â­

*æœ€åæ›´æ–°ï¼š2026å¹´1æœˆ*
